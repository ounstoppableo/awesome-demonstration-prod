(()=>{function t(t,e){let n=0,s=0;for(;s+e[n]<t;)s+=e[n]+1,n+=1;return{line:n+1,offset:s}}function e(t){return"function"==typeof t.getStart&&"function"==typeof t.getEnd?[t.getStart(),t.getEnd()]:void 0!==t.pos&&void 0!==t.end?[t.pos,t.end]:[0,0]}self.importScripts(["https://cdnjs.cloudflare.com/ajax/libs/typescript/2.4.2/typescript.min.js"]),self.addEventListener("message",n=>{let{code:s,title:i,version:r}=n.data;try{let n=[],l=self.ts.createSourceFile(i,s,self.ts.ScriptTarget.ES6,!0),a=s.split("\n").map(t=>t.length);(function n(s,i,r){let l=ts.SyntaxKind[s.kind];self.ts.forEachChild(s,a=>{let d=Object.keys(s).find(t=>s[t]===a);r.push(...(function(t){let n=[],[s,i]=e(t),r=s;return self.ts.forEachChild(t,t=>{let[s,i]=e(t);n.push({start:r,end:s}),r=i}),r!==i&&n.push({start:r,end:i}),n})(a).map(({start:e,end:n})=>{let{offset:s,line:r}=t(e,i),{line:o}=t(n,i);return{start:e+1-s,end:n+1-s,kind:ts.SyntaxKind[a.kind],parentKind:l,type:d,startLine:r,endLine:o}})),n(a,i,r)})})(l,a,n),self.postMessage({classifications:n,version:r})}catch(t){}}),module.exports={}})();